module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){var r,o,s,i=function(){var e={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",Encode:function(t){var n,r,o,s,i,a,c,h="",u=0;for(t=e._utf8_encode(t);u<t.length;)s=(n=t.charCodeAt(u++))>>2,i=(3&n)<<4|(r=t.charCodeAt(u++))>>4,a=(15&r)<<2|(o=t.charCodeAt(u++))>>6,c=63&o,isNaN(r)?a=c=64:isNaN(o)&&(c=64),h=h+this._keyStr.charAt(s)+this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(c);return h},Decode:function(t){var n,r,o,s,i,a,c="",h=0;if(void 0!==t){for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<t.length;)n=this._keyStr.indexOf(t.charAt(h++))<<2|(s=this._keyStr.indexOf(t.charAt(h++)))>>4,r=(15&s)<<4|(i=this._keyStr.indexOf(t.charAt(h++)))>>2,o=(3&i)<<6|(a=this._keyStr.indexOf(t.charAt(h++))),c+=String.fromCharCode(n),64!=i&&(c+=String.fromCharCode(r)),64!=a&&(c+=String.fromCharCode(o));c=e._utf8_decode(c)}else c=void 0;return c},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){for(var t="",n=0,r=o=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),s=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s),n+=3);return t},atob:function(e){this._keyStr.split("");if(/(=[^=]+|={3,})$/.test(e))throw new Error("String contains an invalid character");var t=3&(e=e.replace(/=/g,"")).length;if(1===t)throw new Error("String contains an invalid character");for(var n=0,r=0,o=e.length/4,s=[];n<o;++n){var i=_keyStr.indexOf(e[r++]||"A"),a=_keyStr.indexOf(e[r++]||"A"),c=_keyStr.indexOf(e[r++]||"A"),h=_keyStr.indexOf(e[r++]||"A");if((i|a|c|h)<0)throw new Error("String contains an invalid character");s[s.length]=255&(i<<2|a>>4),s[s.length]=255&(a<<4|c>>2),s[s.length]=255&(c<<6|h)}return String.fromCharCode.apply(null,s).substr(0,s.length+t-4)},btoa:function(e){for(var t=this._keyStr.split(""),n=0,r=0,o=e.length/3,s=[];n<o;++n){var i=e.charCodeAt(r++),a=e.charCodeAt(r++),c=e.charCodeAt(r++);if((i|a|c)>255)throw new Error("String contains an invalid character");s[s.length]=t[i>>2]+t[i<<4&63|a>>4]+(isNaN(a)?"=":t[a<<2&63|c>>6])+(isNaN(a+c)?"=":t[63&c])}return s.join("")},hexToBase64:function(e){return btoa(String.fromCharCode.apply(null,e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")))},base64ToHex:function(e){for(var t=0,n=atob(e.replace(/[ \r\n]+$/,"")),r=[];t<n.length;++t){var o=n.charCodeAt(t).toString(16);1===o.length&&(o="0"+o),r[r.length]=o}return r.join(" ")},safeCompress:function(t){return e.Encode(LZString.compressToEncodedURIComponent(t))},safeDecompress:function(t){return LZString.decompressFromEncodedURIComponent(e.Decode(t))}};return e}();void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r;!function(o){"use strict";function s(e,t){var n,r,o,s,i,a,c,h,u=e.constructor,l=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),_?p(t,l):t;if(c=e.d,h=t.d,i=e.e,o=t.e,c=c.slice(),s=i-o){for(0>s?(r=c,s=-s,a=h.length):(r=h,o=i,a=c.length),s>(a=(i=Math.ceil(l/D))>a?i+1:a+1)&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(0>(a=c.length)-(s=h.length)&&(s=a,r=h,h=c,c=r),n=0;s;)n=(c[--s]=c[s]+h[s]+n)/N|0,c[s]%=N;for(n&&(c.unshift(n),++o),a=c.length;0==c[--a];)c.pop();return t.d=c,t.e=o,_?p(t,l):t}function i(e,t,n){if(e!==~~e||t>e||e>n)throw Error(A+e)}function a(e){var t,n,r,o=e.length-1,s="",i=e[0];if(o>0){for(s+=i,t=1;o>t;t++)r=e[t]+"",(n=D-r.length)&&(s+=l(n)),s+=r;i=e[t],(n=D-(r=i+"").length)&&(s+=l(n))}else if(0===i)return"0";for(;i%10==0;)i/=10;return s+i}function c(e,t){var n,r,o,s,i,c=0,u=0,l=e.constructor,f=l.precision;if(h(e)>16)throw Error(k+h(e));if(!e.s)return new l(b);for(null==t?(_=!1,i=f):i=t,s=new l(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(i+=Math.log(E(2,u))/Math.LN10*2+5|0,n=r=o=new l(b),l.precision=i;;){if(r=p(r.times(e),i),n=n.times(++c),a((s=o.plus(B(r,n,i))).d).slice(0,i)===a(o.d).slice(0,i)){for(;u--;)o=p(o.times(o),i);return l.precision=f,null==t?(_=!0,p(o,f)):o}o=s}}function h(e){for(var t=e.e*D,n=e.d[0];n>=10;n/=10)t++;return t}function u(e,t,n){if(t>e.LN10.sd())throw _=!0,n&&(e.precision=n),Error(x+"LN10 precision limit exceeded");return p(new e(e.LN10),t)}function l(e){for(var t="";e--;)t+="0";return t}function f(e,t){var n,r,o,s,i,c,l,d,y,g=1,v=e,m=v.d,w=v.constructor,S=w.precision;if(v.s<1)throw Error(x+(v.s?"NaN":"-Infinity"));if(v.eq(b))return new w(0);if(null==t?(_=!1,d=S):d=t,v.eq(10))return null==t&&(_=!0),u(w,d);if(d+=10,w.precision=d,r=(n=a(m)).charAt(0),s=h(v),!(Math.abs(s)<15e14))return l=u(w,d+2,S).times(s+""),v=f(new w(r+"."+n.slice(1)),d-10).plus(l),w.precision=S,null==t?(_=!0,p(v,S)):v;for(;7>r&&1!=r||1==r&&n.charAt(1)>3;)r=(n=a((v=v.times(e)).d)).charAt(0),g++;for(s=h(v),r>1?(v=new w("0."+n),s++):v=new w(r+"."+n.slice(1)),c=i=v=B(v.minus(b),v.plus(b),d),y=p(v.times(v),d),o=3;;){if(i=p(i.times(y),d),a((l=c.plus(B(i,new w(o),d))).d).slice(0,d)===a(c.d).slice(0,d))return c=c.times(2),0!==s&&(c=c.plus(u(w,d+2,S).times(s+""))),c=B(c,new w(g),d),w.precision=S,null==t?(_=!0,p(c,S)):c;c=l,o+=2}}function d(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(0>n&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):0>n&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(o=t.length;48===t.charCodeAt(o-1);)--o;if(t=t.slice(r,o)){if(o-=r,n=n-r-1,e.e=C(n/D),e.d=[],r=(n+1)%D,0>n&&(r+=D),o>r){for(r&&e.d.push(+t.slice(0,r)),o-=D;o>r;)e.d.push(+t.slice(r,r+=D));t=t.slice(r),r=D-t.length}else r-=o;for(;r--;)t+="0";if(e.d.push(+t),_&&(e.e>U||e.e<-U))throw Error(k+n)}else e.s=0,e.e=0,e.d=[0];return e}function p(e,t,n){var r,o,s,i,a,c,u,l,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(0>(r=t-i))r+=D,o=t,u=f[l=0];else{if((l=Math.ceil((r+1)/D))>=(s=f.length))return e;for(u=s=f[l],i=1;s>=10;s/=10)i++;o=(r%=D)-D+i}if(void 0!==n&&(a=u/(s=E(10,i-o-1))%10|0,c=0>t||void 0!==f[l+1]||u%s,c=4>n?(a||c)&&(0==n||n==(e.s<0?3:2)):a>5||5==a&&(4==n||c||6==n&&(r>0?o>0?u/E(10,i-o):0:f[l-1])%10&1||n==(e.s<0?8:7))),1>t||!f[0])return c?(s=h(e),f.length=1,t=t-s-1,f[0]=E(10,(D-t%D)%D),e.e=C(-t/D)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(0==r?(f.length=l,s=1,l--):(f.length=l+1,s=E(10,D-r),f[l]=o>0?(u/E(10,i-o)%E(10,o)|0)*s:0),c)for(;;){if(0==l){(f[0]+=s)==N&&(f[0]=1,++e.e);break}if(f[l]+=s,f[l]!=N)break;f[l--]=0,s=1}for(r=f.length;0===f[--r];)f.pop();if(_&&(e.e>U||e.e<-U))throw Error(k+h(e));return e}function y(e,t){var n,r,o,s,i,a,c,h,u,l,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),_?p(t,d):t;if(c=e.d,l=t.d,r=t.e,h=e.e,c=c.slice(),i=h-r){for((u=0>i)?(n=c,i=-i,a=l.length):(n=l,r=h,a=c.length),i>(o=Math.max(Math.ceil(d/D),a)+2)&&(i=o,n.length=1),n.reverse(),o=i;o--;)n.push(0);n.reverse()}else{for(o=c.length,(u=(a=l.length)>o)&&(a=o),o=0;a>o;o++)if(c[o]!=l[o]){u=c[o]<l[o];break}i=0}for(u&&(n=c,c=l,l=n,t.s=-t.s),a=c.length,o=l.length-a;o>0;--o)c[a++]=0;for(o=l.length;o>i;){if(c[--o]<l[o]){for(s=o;s&&0===c[--s];)c[s]=N-1;--c[s],c[o]+=N}c[o]-=l[o]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,_?p(t,d):t):new f(0)}function g(e,t,n){var r,o=h(e),s=a(e.d),i=s.length;return t?(n&&(r=n-i)>0?s=s.charAt(0)+"."+s.slice(1)+l(r):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(0>o?"e":"e+")+o):0>o?(s="0."+l(-o-1)+s,n&&(r=n-i)>0&&(s+=l(r))):o>=i?(s+=l(o+1-i),n&&(r=n-o-1)>0&&(s=s+"."+l(r))):((r=o+1)<i&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-i)>0&&(o+1===i&&(s+="."),s+=l(r))),e.s<0?"-"+s:s}function v(e,t){return e.length>t?(e.length=t,!0):void 0}function m(e){if(!e||"object"!=typeof e)throw Error(x+"Object expected");var t,n,r,o=["precision",1,w,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if(void 0!==(r=e[n=o[t]])){if(!(C(r)===r&&r>=o[t+1]&&r<=o[t+2]))throw Error(A+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(A+n+": "+r);this[n]=new this(r)}return this}var b,w=1e9,S={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_=!0,x="[DecimalError] ",A=x+"Invalid argument: ",k=x+"Exponent out of range: ",C=Math.floor,E=Math.pow,O=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,N=1e7,D=7,P=9007199254740991,U=C(P/D),L={};L.absoluteValue=L.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},L.comparedTo=L.cmp=function(e){var t,n,r,o,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,t=0,n=(o=e.d.length)>r?r:o;n>t;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===o?0:r>o^s.s<0?1:-1},L.decimalPlaces=L.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*D;if(t=e.d[t])for(;t%10==0;t/=10)n--;return 0>n?0:n},L.dividedBy=L.div=function(e){return B(this,new this.constructor(e))},L.dividedToIntegerBy=L.idiv=function(e){var t=this.constructor;return p(B(this,new t(e),0,1),t.precision)},L.equals=L.eq=function(e){return!this.cmp(e)},L.exponent=function(){return h(this)},L.greaterThan=L.gt=function(e){return this.cmp(e)>0},L.greaterThanOrEqualTo=L.gte=function(e){return this.cmp(e)>=0},L.isInteger=L.isint=function(){return this.e>this.d.length-2},L.isNegative=L.isneg=function(){return this.s<0},L.isPositive=L.ispos=function(){return this.s>0},L.isZero=function(){return 0===this.s},L.lessThan=L.lt=function(e){return this.cmp(e)<0},L.lessThanOrEqualTo=L.lte=function(e){return this.cmp(e)<1},L.logarithm=L.log=function(e){var t,n=this,r=n.constructor,o=r.precision,s=o+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(b))throw Error(x+"NaN");if(n.s<1)throw Error(x+(n.s?"NaN":"-Infinity"));return n.eq(b)?new r(0):(_=!1,t=B(f(n,s),f(e,s),s),_=!0,p(t,o))},L.minus=L.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):s(t,(e.s=-e.s,e))},L.modulo=L.mod=function(e){var t,n=this,r=n.constructor,o=r.precision;if(!(e=new r(e)).s)throw Error(x+"NaN");return n.s?(_=!1,t=B(n,e,0,1).times(e),_=!0,n.minus(t)):p(new r(n),o)},L.naturalExponential=L.exp=function(){return c(this)},L.naturalLogarithm=L.ln=function(){return f(this)},L.negated=L.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},L.plus=L.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?s(t,e):y(t,(e.s=-e.s,e))},L.precision=L.sd=function(e){var t,n,r,o=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(A+e);if(t=h(o)+1,n=(r=o.d.length-1)*D+1,r=o.d[r]){for(;r%10==0;r/=10)n--;for(r=o.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},L.squareRoot=L.sqrt=function(){var e,t,n,r,o,s,i,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(x+"NaN")}for(e=h(c),_=!1,0==(o=Math.sqrt(+c))||o==1/0?(((t=a(c.d)).length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=C((e+1)/2)-(0>e||e%2),o==1/0?t="1e"+e:t=(t=o.toExponential()).slice(0,t.indexOf("e")+1)+e,r=new u(t)):r=new u(o.toString()),o=i=(n=u.precision)+3;;)if(r=(s=r).plus(B(c,s,i+2)).times(.5),a(s.d).slice(0,i)===(t=a(r.d)).slice(0,i)){if(t=t.slice(i-3,i+1),o==i&&"4999"==t){if(p(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if("9999"!=t)break;i+=4}return _=!0,p(r,n)},L.times=L.mul=function(e){var t,n,r,o,s,i,a,c,h,u=this,l=u.constructor,f=u.d,d=(e=new l(e)).d;if(!u.s||!e.s)return new l(0);for(e.s*=u.s,n=u.e+e.e,c=f.length,(h=d.length)>c&&(s=f,f=d,d=s,i=c,c=h,h=i),s=[],r=i=c+h;r--;)s.push(0);for(r=h;--r>=0;){for(t=0,o=c+r;o>r;)a=s[o]+d[r]*f[o-r-1]+t,s[o--]=a%N|0,t=a/N|0;s[o]=(s[o]+t)%N|0}for(;!s[--i];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,_?p(e,l.precision):e},L.toDecimalPlaces=L.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(i(e,0,w),void 0===t?t=r.rounding:i(t,0,8),p(n,e+h(n)+1,t))},L.toExponential=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=g(r,!0):(i(e,0,w),void 0===t?t=o.rounding:i(t,0,8),n=g(r=p(new o(r),e+1,t),!0,e+1)),n},L.toFixed=function(e,t){var n,r,o=this,s=o.constructor;return void 0===e?g(o):(i(e,0,w),void 0===t?t=s.rounding:i(t,0,8),n=g((r=p(new s(o),e+h(o)+1,t)).abs(),!1,e+h(r)+1),o.isneg()&&!o.isZero()?"-"+n:n)},L.toInteger=L.toint=function(){var e=this,t=e.constructor;return p(new t(e),h(e)+1,t.rounding)},L.toNumber=function(){return+this},L.toPower=L.pow=function(e){var t,n,r,o,s,i,a=this,h=a.constructor,u=+(e=new h(e));if(!e.s)return new h(b);if(!(a=new h(a)).s){if(e.s<1)throw Error(x+"Infinity");return a}if(a.eq(b))return a;if(r=h.precision,e.eq(b))return p(a,r);if(i=(t=e.e)>=(n=e.d.length-1),s=a.s,i){if((n=0>u?-u:u)<=P){for(o=new h(b),t=Math.ceil(r/D+4),_=!1;n%2&&v((o=o.times(a)).d,t),0!==(n=C(n/2));)v((a=a.times(a)).d,t);return _=!0,e.s<0?new h(b).div(o):p(o,r)}}else if(0>s)throw Error(x+"NaN");return s=0>s&&1&e.d[Math.max(t,n)]?-1:1,a.s=1,_=!1,o=e.times(f(a,r+12)),_=!0,(o=c(o)).s=s,o},L.toPrecision=function(e,t){var n,r,o=this,s=o.constructor;return void 0===e?r=g(o,(n=h(o))<=s.toExpNeg||n>=s.toExpPos):(i(e,1,w),void 0===t?t=s.rounding:i(t,0,8),r=g(o=p(new s(o),e,t),(n=h(o))>=e||n<=s.toExpNeg,e)),r},L.toSignificantDigits=L.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(i(e,1,w),void 0===t?t=n.rounding:i(t,0,8)),p(new n(this),e,t)},L.toString=L.valueOf=L.val=L.toJSON=function(){var e=this,t=h(e),n=e.constructor;return g(e,t<=n.toExpNeg||t>=n.toExpPos)};var B=function(){function e(e,t){var n,r=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+r,e[o]=n%N|0,r=n/N|0;return r&&e.unshift(r),e}function t(e,t,n,r){var o,s;if(n!=r)s=n>r?1:-1;else for(o=s=0;n>o;o++)if(e[o]!=t[o]){s=e[o]>t[o]?1:-1;break}return s}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*N+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,o,s,i){var a,c,u,l,f,d,y,g,v,m,b,w,S,_,A,k,C,E,O=r.constructor,P=r.s==o.s?1:-1,U=r.d,L=o.d;if(!r.s)return new O(r);if(!o.s)throw Error(x+"Division by zero");for(c=r.e-o.e,C=L.length,A=U.length,g=(y=new O(P)).d=[],u=0;L[u]==(U[u]||0);)++u;if(L[u]>(U[u]||0)&&--c,0>(w=null==s?s=O.precision:i?s+(h(r)-h(o))+1:s))return new O(0);if(w=w/D+2|0,u=0,1==C)for(l=0,L=L[0],w++;(A>u||l)&&w--;u++)S=l*N+(U[u]||0),g[u]=S/L|0,l=S%L|0;else{for((l=N/(L[0]+1)|0)>1&&(L=e(L,l),U=e(U,l),C=L.length,A=U.length),_=C,m=(v=U.slice(0,C)).length;C>m;)v[m++]=0;(E=L.slice()).unshift(0),k=L[0],L[1]>=N/2&&++k;do{l=0,0>(a=t(L,v,C,m))?(b=v[0],C!=m&&(b=b*N+(v[1]||0)),(l=b/k|0)>1?(l>=N&&(l=N-1),1==(a=t(f=e(L,l),v,d=f.length,m=v.length))&&(l--,n(f,d>C?E:L,d))):(0==l&&(a=l=1),f=L.slice()),m>(d=f.length)&&f.unshift(0),n(v,f,m),-1==a&&(1>(a=t(L,v,C,m=v.length))&&(l++,n(v,m>C?E:L,m))),m=v.length):0===a&&(l++,v=[0]),g[u++]=l,a&&v[0]?v[m++]=U[_]||0:(v=[U[_]],m=1)}while((_++<A||void 0!==v[0])&&w--)}return g[0]||g.shift(),y.e=c,p(y,i?s+h(y)+1:s)}}();S=function e(t){function n(e){var t=this;if(!(t instanceof n))return new n(e);if(t.constructor=n,e instanceof n)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(A+e);if(e>0)t.s=1;else{if(!(0>e))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&1e7>e?(t.e=0,void(t.d=[e])):d(t,e.toString())}if("string"!=typeof e)throw Error(A+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!O.test(e))throw Error(A+e);d(t,e)}var r,o,s;if(n.prototype=L,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=e,n.config=n.set=m,void 0===t&&(t={}),t)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<s.length;)t.hasOwnProperty(o=s[r++])||(t[o]=this[o]);return n.config(t),n}(S),b=new S(1),void 0===(r=function(){return S}.call(t,n,t,e))||(e.exports=r)}()},function(module,exports,__webpack_require__){var UrlBase64=__webpack_require__(0),sjcl=__webpack_require__(5);function clean(e){if(void 0!==e)var t=e.toString().replace(/[^A-Za-z0-9]/g,"");else t="";return t}function generateKeys(e,t,n){var r=sjcl.codec.utf8String.toBits(e.toUpperCase()),o=sjcl.codec.utf8String.toBits(t.toLowerCase()),s=sjcl.misc.pbkdf2(r,o,5e3+n,4096,!1),i=e.toUpperCase().split("").reverse().join(""),a=sjcl.codec.utf8String.toBits(i),c=sjcl.codec.utf8String.toBits(t.toUpperCase()),h=sjcl.misc.pbkdf2(a,c,5e3+n,4096,!1),u=sjcl.misc.pbkdf2(s,h,5e3+n,4096,!1),l=sjcl.codec.hex.fromBits(u),f=nacl.from_hex(l);return nacl.crypto_box_keypair_from_seed(f)}function seedGenerator(e,t){function n(e,t){for(var n="",r=0,o=0;o<t.length;o++)n+=String.fromCharCode(t[o].charCodeAt(0).toString(10)^e[r].charCodeAt(0).toString(10)),++r>=e.length&&(r=0);return n}return UrlBase64.Encode(n(nacl.to_hex(e.boxPk),n(t.split(".")[0],n("1nT3rN3t0Fc01NsB1nD5tH3cRyPt05Ph3R3t093Th3Rf0Rp30Pl3L1k3M34nDy0U",nacl.to_hex(e.boxSk))))).slice(0,-2)}function activate(code){try{return eval("window.deterministic = (function(){})(); "+code),window.deterministic}catch(e){return null}}function sessionStep1Reply(e,t,n){DEBUG&&console.log("Hello JSON:"+JSON.stringify(e));var r=nacl.from_hex(clean(e.server_sign_pubkey)),o=nacl.from_hex(clean(e.server_session_pubkey)),s=nacl.from_hex(clean(e.current_nonce));DEBUG&&console.log("nonce:"+e.current_nonce);var i=nacl.from_hex(clean(e.crhex));try{var a=nacl.crypto_box_open(i,s,o,t.session_keypair.boxSk);DEBUG&&console.log("Cryptstr:"+JSON.stringify(a));var c=nacl.to_hex(a);DEBUG&&console.log("Crypt hexstr:"+JSON.stringify(c));var h=nacl.from_hex(clean(c)),u=nacl.crypto_sign_open(h,r),l=nacl.decode_utf8(u),f=JSON.parse(l);if(DEBUG&&(console.log("PAYLOAD:"+JSON.stringify(c)),console.log("SIGNLOAD:"+JSON.stringify(l))),f.server_sign_pubkey===e.server_sign_pubkey&&f.server_session_pubkey===e.server_session_pubkey&&f.current_nonce===e.current_nonce){var d={nonce:t.session_nonce,nonce1:t.nonce1_hex,nonce2:t.nonce2_hex,nonce_combi:f.current_nonce,session_secsign:t.session_secsign,session_seckey:t.session_seckey,session_pubsign:t.session_hexsign,session_pubkey:t.session_hexkey,server_pubsign:f.server_sign_pubkey,server_pubkey:f.server_session_pubkey},p=nacl.encode_utf8(JSON.stringify(d));DEBUG&&console.log("Raw session_data: "+JSON.stringify(d));var y=nacl.crypto_box(p,s,t.userKeys.boxPk,t.userKeys.boxSk),g=nacl.to_hex(y);return"function"==typeof n&&n(g),{sess_hex:g,current_nonce:s}}}catch(e){console.error(JSON.stringify(e))}}function readSession(e,t,n,r){null===n&&r();var o=nacl.from_hex(n),s=nacl.crypto_box_open(o,t,e.boxPk,e.boxSk),i=nacl.decode_utf8(s);return JSON.parse(i)}function generateInitialSessionData(e){var t=nacl.random_bytes(4096),n=nacl.crypto_box_keypair_from_seed(t),r=nacl.crypto_hash_sha256(t),o=nacl.crypto_sign_keypair_from_seed(r),s=nacl.to_hex(e),i=nacl.to_hex(n.boxPk),a=nacl.to_hex(o.signPk),c=nacl.to_hex(n.boxSk),h=nacl.to_hex(o.signSk);return DEBUG&&console.log("session_seed:"+t+"("+t.length+")"),DEBUG&&console.log("session_hexkey:"+i+"("+i.length+")"),DEBUG&&console.log("session_sign_seed:"+r+"("+r.length+")"),DEBUG&&console.log("session_hexsign:"+a+"("+a.length+")"),{session_hexkey:i,session_hexsign:a,session_keypair:n,session_nonce:s,session_seckey:c,session_secsign:h,session_signpair:o}}function generateSecondarySessionData(e,t,n){var r,o=nacl.crypto_box_random_nonce(),s=(s=nacl.to_hex(o)).replace(/^[8-9a-f]/,function(e){return["8","9","a","b","c","d","e","f"].indexOf(e)}),i={nonce1:r=(r=clean(e)).replace(/^[8-9a-f]/,function(e){return["8","9","a","b","c","d","e","f"].indexOf(e)}),nonce2:s,client_session_pubkey:t},a=JSON.stringify(i),c=nacl.encode_utf8(a),h=nacl.crypto_sign(c,n),u=nacl.to_hex(h);return DEBUG&&console.log("CR:"+u),{nonce1_hex:r,nonce2_hex:s,crypt_hex:u}}function continueSession(e,t,n,r,o){""===r()?setTimeout(function(){continueSession(e,t,n,r,o)},1e3):o()}function nextStep(){var e=session_step;return session_step++,e+1}function increaseSessionStep(e){return e+1}function validatePasswordLength(e){return"string"==typeof e&&(16===e.length||48===e.length)}function validateUserIDLength(e){return"string"==typeof e&&16===e.length}exports.commonUtils={activate:activate,clean:clean,continueSession:continueSession,generateKeys:generateKeys,generateInitialSessionData:generateInitialSessionData,generateSecondarySessionData:generateSecondarySessionData,increaseSessionStep:increaseSessionStep,seedGenerator:seedGenerator,sessionStep1Reply:sessionStep1Reply,validatePasswordLength:validatePasswordLength,validateUserIDLength:validateUserIDLength},module.exports={activate:activate,clean:clean,continueSession:continueSession,generateKeys:generateKeys,generateInitialSessionData:generateInitialSessionData,generateSecondarySessionData:generateSecondarySessionData,nextStep:nextStep,readSession:readSession,seedGenerator:seedGenerator,sessionStep1Reply:sessionStep1Reply,validatePasswordLength:validatePasswordLength,validateUserIDLength:validateUserIDLength}},function(e,t){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",s={};function i(e,t){if(!s[e]){s[e]={};for(var n=0;n<e.length;n++)s[e][e.charAt(n)]=n}return s[e][t]}var a={compressToBase64:function(e){if(null==e)return"";var t=a._compress(e,6,function(e){return r.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:a._decompress(e.length,32,function(t){return i(r,e.charAt(t))})},compressToUTF16:function(e){return null==e?"":a._compress(e,15,function(e){return n(e+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:a._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=a.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var s=t.charCodeAt(r);n[2*r]=s>>>8,n[2*r+1]=s%256}return n},decompressFromUint8Array:function(e){if(null===e||void 0===e)return a.decompress(e);for(var t=new Array(e.length/2),r=0,o=t.length;r<o;r++)t[r]=256*e[2*r]+e[2*r+1];var s=[];return t.forEach(function(e){s.push(n(e))}),a.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":a._compress(e,6,function(e){return o.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),a._decompress(e.length,32,function(t){return i(o,e.charAt(t))}))},compress:function(e){return a._compress(e,16,function(e){return n(e)})},_compress:function(e,t,n){if(null==e)return"";var r,o,s,i={},a={},c="",h="",u="",l=2,f=3,d=2,p=[],y=0,g=0;for(s=0;s<e.length;s+=1)if(c=e.charAt(s),Object.prototype.hasOwnProperty.call(i,c)||(i[c]=f++,a[c]=!0),h=u+c,Object.prototype.hasOwnProperty.call(i,h))u=h;else{if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(r=0;r<d;r++)y<<=1,g==t-1?(g=0,p.push(n(y)),y=0):g++;for(o=u.charCodeAt(0),r=0;r<8;r++)y=y<<1|1&o,g==t-1?(g=0,p.push(n(y)),y=0):g++,o>>=1}else{for(o=1,r=0;r<d;r++)y=y<<1|o,g==t-1?(g=0,p.push(n(y)),y=0):g++,o=0;for(o=u.charCodeAt(0),r=0;r<16;r++)y=y<<1|1&o,g==t-1?(g=0,p.push(n(y)),y=0):g++,o>>=1}0==--l&&(l=Math.pow(2,d),d++),delete a[u]}else for(o=i[u],r=0;r<d;r++)y=y<<1|1&o,g==t-1?(g=0,p.push(n(y)),y=0):g++,o>>=1;0==--l&&(l=Math.pow(2,d),d++),i[h]=f++,u=String(c)}if(""!==u){if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(r=0;r<d;r++)y<<=1,g==t-1?(g=0,p.push(n(y)),y=0):g++;for(o=u.charCodeAt(0),r=0;r<8;r++)y=y<<1|1&o,g==t-1?(g=0,p.push(n(y)),y=0):g++,o>>=1}else{for(o=1,r=0;r<d;r++)y=y<<1|o,g==t-1?(g=0,p.push(n(y)),y=0):g++,o=0;for(o=u.charCodeAt(0),r=0;r<16;r++)y=y<<1|1&o,g==t-1?(g=0,p.push(n(y)),y=0):g++,o>>=1}0==--l&&(l=Math.pow(2,d),d++),delete a[u]}else for(o=i[u],r=0;r<d;r++)y=y<<1|1&o,g==t-1?(g=0,p.push(n(y)),y=0):g++,o>>=1;0==--l&&(l=Math.pow(2,d),d++)}for(o=2,r=0;r<d;r++)y=y<<1|1&o,g==t-1?(g=0,p.push(n(y)),y=0):g++,o>>=1;for(;;){if(y<<=1,g==t-1){p.push(n(y));break}g++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:a._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(e,t,r){var o,s,i,a,c,h,u,l=[],f=4,d=4,p=3,y="",g=[],v={val:r(0),position:t,index:1};for(o=0;o<3;o+=1)l[o]=o;for(i=0,c=Math.pow(2,2),h=1;h!=c;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=r(v.index++)),i|=(a>0?1:0)*h,h<<=1;switch(i){case 0:for(i=0,c=Math.pow(2,8),h=1;h!=c;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=r(v.index++)),i|=(a>0?1:0)*h,h<<=1;u=n(i);break;case 1:for(i=0,c=Math.pow(2,16),h=1;h!=c;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=r(v.index++)),i|=(a>0?1:0)*h,h<<=1;u=n(i);break;case 2:return""}for(l[3]=u,s=u,g.push(u);;){if(v.index>e)return"";for(i=0,c=Math.pow(2,p),h=1;h!=c;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=r(v.index++)),i|=(a>0?1:0)*h,h<<=1;switch(u=i){case 0:for(i=0,c=Math.pow(2,8),h=1;h!=c;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=r(v.index++)),i|=(a>0?1:0)*h,h<<=1;l[d++]=n(i),u=d-1,f--;break;case 1:for(i=0,c=Math.pow(2,16),h=1;h!=c;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=t,v.val=r(v.index++)),i|=(a>0?1:0)*h,h<<=1;l[d++]=n(i),u=d-1,f--;break;case 2:return g.join("")}if(0==f&&(f=Math.pow(2,p),p++),l[u])y=l[u];else{if(u!==d)return null;y=s+s.charAt(0)}g.push(y),l[d++]=s+y.charAt(0),s=y,0==--f&&(f=Math.pow(2,p),p++)}}};e.exports=a},function(e,t,n){var r=n(0),o=n(1),s=n(9),i=n(2);o.set({precision:64});var a=function(e){var t=nacl.encode_utf8(e.txtdata),n=nacl.crypto_box(t,e.sessionNonce,e.serverSessionPubKey,e.clientSessionSecKey),o=nacl.to_hex(n);return e.sessionID+"/"+e.step+"/"+r.safeCompress(o)},c=function(e,t,n){var r=document.querySelector("#session_data").textContent,o=l(e,t,r);return a({sessionID:o.sessionID,sessionNonce:o.sessionNonce,serverSessionPubKey:o.serverSessionPubKey,clientSessionSecKey:o.clientSessionSecKey,step:t,txtdata:n})},h=function(e){var t,n=r.safeDecompress(e.encdata);if(null!=n){var o=nacl.from_hex(n),s=nacl.crypto_box_open(o,e.sessionNonce,e.serverSessionPubKey,e.clientSessionSecKey);t=nacl.decode_utf8(s)}else t=null;return t},u=function(e,t,n){var r=document.querySelector("#session_data").textContent,o=null;if(null!==n){var s=l(e,t,r);o=h({encdata:n,sessionNonce:s.sessionNonce,serverSessionPubKey:s.serverSessionPubKey,clientSessionSecKey:s.clientSessionSecKey})}return o},l=function(e,t,n){var r=i.readSession(e.user_keys,e.nonce,n,f),a=r.session_pubsign,c=nacl.from_hex(r.server_pubkey),h=nacl.from_hex(r.session_seckey),u=new o(s.toDec(r.nonce1)),l=new o(s.toDec(r.nonce2)),d=new o(t),p=u.plus(l).plus(d).toDecimalPlaces(64),y=s.toHex(p.toFixed(0).toString()),g=y.substr(2,y.length);return{sessionID:a,clientSessionSecKey:h,serverSessionPubKey:c,sessionNonce:nacl.from_hex(g)}};function f(){console.log("Error: Could not retrieve session data.")}e.exports={path:function(e,t,n){return"y/"+c(e,t,n)},obj:function(e,t,n){return JSON.parse(u(e,t,n))},decode_sub:h,decode:u,encode_sub:a,encode:c,getGeneralSessionData:l}},function(e,t){var n;function r(e){throw e}var o=void 0,s=!1;function i(e,t,o){4!==t.length&&r(new n.exception.invalid("invalid aes block size"));var s=e.a[o],i=t[0]^s[0],a=t[o?3:1]^s[1],c=t[2]^s[2];t=t[o?1:3]^s[3];var h,u,l,f,d=s.length/4-2,p=4,y=[0,0,0,0];e=(h=e.j[o])[0];var g=h[1],v=h[2],m=h[3],b=h[4];for(f=0;f<d;f++)h=e[i>>>24]^g[a>>16&255]^v[c>>8&255]^m[255&t]^s[p],u=e[a>>>24]^g[c>>16&255]^v[t>>8&255]^m[255&i]^s[p+1],l=e[c>>>24]^g[t>>16&255]^v[i>>8&255]^m[255&a]^s[p+2],t=e[t>>>24]^g[i>>16&255]^v[a>>8&255]^m[255&c]^s[p+3],p+=4,i=h,a=u,c=l;for(f=0;f<4;f++)y[o?3&-f:f]=b[i>>>24]<<24^b[a>>16&255]<<16^b[c>>8&255]<<8^b[255&t]^s[p++],h=i,i=a,a=c,c=t,t=h;return y}function a(e,t){var n,r,o,s=t.slice(0),i=e.q,a=e.a,c=i[0],h=i[1],u=i[2],l=i[3],f=i[4],d=i[5],p=i[6],y=i[7];for(n=0;n<64;n++)n<16?r=s[n]:(r=s[n+1&15],o=s[n+14&15],r=s[15&n]=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(o>>>17^o>>>19^o>>>10^o<<15^o<<13)+s[15&n]+s[n+9&15]|0),r=r+y+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(p^f&(d^p))+a[n],y=p,p=d,d=f,f=l+r|0,l=u,u=h,c=r+((h=c)&u^l&(h^u))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0;i[0]=i[0]+c|0,i[1]=i[1]+h|0,i[2]=i[2]+u|0,i[3]=i[3]+l|0,i[4]=i[4]+f|0,i[5]=i[5]+d|0,i[6]=i[6]+p|0,i[7]=i[7]+y|0}function c(e,t){var r,o=n.random.z[e],s=[];for(r in o)o.hasOwnProperty(r)&&s.push(o[r]);for(r=0;r<s.length;r++)s[r](t)}function h(e){e.a=u(e).concat(u(e)),e.A=new n.cipher.aes(e.a)}function u(e){for(var t=0;t<4&&(e.e[t]=e.e[t]+1|0,!e.e[t]);t++);return e.A.encrypt(e.e)}n={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}},void 0!==e&&e.exports&&(e.exports=n),n.cipher.aes=function(e){this.j[0][0][0]||this.D();var t,o,s,i,a=this.j[0][4],c=this.j[1],h=1;for(4!==(t=e.length)&&6!==t&&8!==t&&r(new n.exception.invalid("invalid aes key size")),this.a=[s=e.slice(0),i=[]],e=t;e<4*t+28;e++)o=s[e-1],(e%t==0||8===t&&e%t==4)&&(o=a[o>>>24]<<24^a[o>>16&255]<<16^a[o>>8&255]<<8^a[255&o],e%t==0&&(o=o<<8^o>>>24^h<<24,h=h<<1^283*(h>>7))),s[e]=s[e-t]^o;for(t=0;e;t++,e--)o=s[3&t?e:e-4],i[t]=e<=4||t<4?o:c[0][a[o>>>24]]^c[1][a[o>>16&255]]^c[2][a[o>>8&255]]^c[3][a[255&o]]},n.cipher.aes.prototype={encrypt:function(e){return i(this,e,0)},decrypt:function(e){return i(this,e,1)},j:[[[],[],[],[],[]],[[],[],[],[],[]]],D:function(){var e,t,n,r,o,s,i,a=this.j[0],c=this.j[1],h=a[4],u=c[4],l=[],f=[];for(e=0;e<256;e++)f[(l[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!h[t];t^=r||1,n=f[n]||1)for(s=(s=n^n<<1^n<<2^n<<3^n<<4)>>8^255&s^99,h[t]=s,u[s]=t,i=16843009*(o=l[e=l[r=l[t]]])^65537*e^257*r^16843008*t,o=257*l[s]^16843008*s,e=0;e<4;e++)a[e][t]=o=o<<24^o>>>8,c[e][s]=i=i<<24^i>>>8;for(e=0;e<5;e++)a[e]=a[e].slice(0),c[e]=c[e].slice(0)}},n.bitArray={bitSlice:function(e,t,r){return e=n.bitArray.O(e.slice(t/32),32-(31&t)).slice(1),r===o?e:n.bitArray.clamp(e,r-t)},extract:function(e,t,n){var r=Math.floor(-t-n&31);return(-32&(t+n-1^t)?e[t/32|0]<<32-r^e[t/32+1|0]>>>r:e[t/32|0]>>>r)&(1<<n)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var r=e[e.length-1],o=n.bitArray.getPartial(r);return 32===o?e.concat(t):n.bitArray.O(t,o,0|r,e.slice(0,e.length-1))},bitLength:function(e){var t=e.length;return 0===t?0:32*(t-1)+n.bitArray.getPartial(e[t-1])},clamp:function(e,t){if(32*e.length<t)return e;var r=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,r>0&&t&&(e[r-1]=n.bitArray.partial(t,e[r-1]&2147483648>>t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(n.bitArray.bitLength(e)!==n.bitArray.bitLength(t))return s;var r,o=0;for(r=0;r<e.length;r++)o|=e[r]^t[r];return 0===o},O:function(e,t,r,s){var i;for(i=0,s===o&&(s=[]);t>=32;t-=32)s.push(r),r=0;if(0===t)return s.concat(e);for(i=0;i<e.length;i++)s.push(r|e[i]>>>t),r=e[i]<<32-t;return i=e.length?e[e.length-1]:0,e=n.bitArray.getPartial(i),s.push(n.bitArray.partial(t+e&31,t+e>32?r:s.pop(),1)),s},k:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]}},n.codec.utf8String={fromBits:function(e){var t,r,o="",s=n.bitArray.bitLength(e);for(t=0;t<s/8;t++)0==(3&t)&&(r=e[t/4]),o+=String.fromCharCode(r>>>24),r<<=8;return decodeURIComponent(escape(o))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,r=[],o=0;for(t=0;t<e.length;t++)o=o<<8|e.charCodeAt(t),3==(3&t)&&(r.push(o),o=0);return 3&t&&r.push(n.bitArray.partial(8*(3&t),o)),r}},n.codec.hex={fromBits:function(e){var t,r="";for(t=0;t<e.length;t++)r+=(0xf00000000000+(0|e[t])).toString(16).substr(4);return r.substr(0,n.bitArray.bitLength(e)/4)},toBits:function(e){var t,r,o=[];for(r=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",t=0;t<e.length;t+=8)o.push(0^parseInt(e.substr(t,8),16));return n.bitArray.clamp(o,4*r)}},n.codec.base64={I:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(e,t,r){var o="",s=0,i=n.codec.base64.I,a=0,c=n.bitArray.bitLength(e);for(r&&(i=i.substr(0,62)+"-_"),r=0;6*o.length<c;)o+=i.charAt((a^e[r]>>>s)>>>26),s<6?(a=e[r]<<6-s,s+=26,r++):(a<<=6,s-=6);for(;3&o.length&&!t;)o+="=";return o},toBits:function(e,t){e=e.replace(/\s|=/g,"");var o,s,i=[],a=0,c=n.codec.base64.I,h=0;for(t&&(c=c.substr(0,62)+"-_"),o=0;o<e.length;o++)(s=c.indexOf(e.charAt(o)))<0&&r(new n.exception.invalid("this isn't base64!")),a>26?(a-=26,i.push(h^s>>>a),h=s<<32-a):h^=s<<32-(a+=6);return 56&a&&i.push(n.bitArray.partial(56&a,h,1)),i}},n.codec.base64url={fromBits:function(e){return n.codec.base64.fromBits(e,1,1)},toBits:function(e){return n.codec.base64.toBits(e,1)}},n.hash.sha256=function(e){this.a[0]||this.D(),e?(this.q=e.q.slice(0),this.m=e.m.slice(0),this.g=e.g):this.reset()},n.hash.sha256.hash=function(e){return(new n.hash.sha256).update(e).finalize()},n.hash.sha256.prototype={blockSize:512,reset:function(){return this.q=this.M.slice(0),this.m=[],this.g=0,this},update:function(e){"string"==typeof e&&(e=n.codec.utf8String.toBits(e));var t,r=this.m=n.bitArray.concat(this.m,e);for(t=this.g,e=this.g=t+n.bitArray.bitLength(e),t=512+t&-512;t<=e;t+=512)a(this,r.splice(0,16));return this},finalize:function(){var e,t=this.m,r=this.q;for(e=(t=n.bitArray.concat(t,[n.bitArray.partial(1,1)])).length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this.g/4294967296)),t.push(0|this.g);t.length;)a(this,t.splice(0,16));return this.reset(),r},M:[],a:[],D:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}var t,n=0,r=2;e:for(;n<64;r++){for(t=2;t*t<=r;t++)if(r%t==0)continue e;n<8&&(this.M[n]=e(Math.pow(r,.5))),this.a[n]=e(Math.pow(r,1/3)),n++}}},n.mode.ccm={name:"ccm",encrypt:function(e,t,o,s,i){var a,c=t.slice(0),h=n.bitArray,u=h.bitLength(o)/8,l=h.bitLength(c)/8;for(i=i||64,s=s||[],u<7&&r(new n.exception.invalid("ccm: iv must be at least 7 bytes")),a=2;a<4&&l>>>8*a;a++);return a<15-u&&(a=15-u),o=h.clamp(o,8*(15-a)),t=n.mode.ccm.K(e,t,o,s,i,a),c=n.mode.ccm.n(e,c,o,t,i,a),h.concat(c.data,c.tag)},decrypt:function(e,t,o,s,i){i=i||64,s=s||[];var a=n.bitArray,c=a.bitLength(o)/8,h=a.bitLength(t),u=a.clamp(t,h-i),l=a.bitSlice(t,h-i);h=(h-i)/8;for(c<7&&r(new n.exception.invalid("ccm: iv must be at least 7 bytes")),t=2;t<4&&h>>>8*t;t++);return t<15-c&&(t=15-c),o=a.clamp(o,8*(15-t)),u=n.mode.ccm.n(e,u,o,l,i,t),e=n.mode.ccm.K(e,u.data,o,s,i,t),a.equal(u.tag,e)||r(new n.exception.corrupt("ccm: tag doesn't match")),u.data},K:function(e,t,o,s,i,a){var c=[],h=n.bitArray,u=h.k;if(((i/=8)%2||i<4||i>16)&&r(new n.exception.invalid("ccm: invalid tag length")),(s.length>4294967295||t.length>4294967295)&&r(new n.exception.bug("ccm: can't deal with 4GiB or more data")),a=[h.partial(8,(s.length?64:0)|i-2<<2|a-1)],(a=h.concat(a,o))[3]|=h.bitLength(t)/8,a=e.encrypt(a),s.length)for((o=h.bitLength(s)/8)<=65279?c=[h.partial(16,o)]:o<=4294967295&&(c=h.concat([h.partial(16,65534)],[o])),c=h.concat(c,s),s=0;s<c.length;s+=4)a=e.encrypt(u(a,c.slice(s,s+4).concat([0,0,0])));for(s=0;s<t.length;s+=4)a=e.encrypt(u(a,t.slice(s,s+4).concat([0,0,0])));return h.clamp(a,8*i)},n:function(e,t,r,o,s,i){var a,c=n.bitArray;a=c.k;var h=t.length,u=c.bitLength(t);if(r=c.concat([c.partial(8,i-1)],r).concat([0,0,0]).slice(0,4),o=c.bitSlice(a(o,e.encrypt(r)),0,s),!h)return{tag:o,data:[]};for(a=0;a<h;a+=4)r[3]++,s=e.encrypt(r),t[a]^=s[0],t[a+1]^=s[1],t[a+2]^=s[2],t[a+3]^=s[3];return{tag:o,data:c.clamp(t,u)}}},n.mode.ocb2={name:"ocb2",encrypt:function(e,t,o,s,i,a){128!==n.bitArray.bitLength(o)&&r(new n.exception.invalid("ocb iv must be 128 bits"));var c,h=n.mode.ocb2.G,u=n.bitArray,l=u.k,f=[0,0,0,0];o=h(e.encrypt(o));var d,p=[];for(s=s||[],i=i||64,c=0;c+4<t.length;c+=4)f=l(f,d=t.slice(c,c+4)),p=p.concat(l(o,e.encrypt(l(o,d)))),o=h(o);return d=t.slice(c),t=u.bitLength(d),c=e.encrypt(l(o,[0,0,0,t])),f=l(f,l((d=u.clamp(l(d.concat([0,0,0]),c),t)).concat([0,0,0]),c)),f=e.encrypt(l(f,l(o,h(o)))),s.length&&(f=l(f,a?s:n.mode.ocb2.pmac(e,s))),p.concat(u.concat(d,u.clamp(f,i)))},decrypt:function(e,t,o,s,i,a){128!==n.bitArray.bitLength(o)&&r(new n.exception.invalid("ocb iv must be 128 bits")),i=i||64;var c,h,u=n.mode.ocb2.G,l=n.bitArray,f=l.k,d=[0,0,0,0],p=u(e.encrypt(o)),y=n.bitArray.bitLength(t)-i,g=[];for(s=s||[],o=0;o+4<y/32;o+=4)d=f(d,c=f(p,e.decrypt(f(p,t.slice(o,o+4))))),g=g.concat(c),p=u(p);return h=y-32*o,d=f(d,c=f(c=e.encrypt(f(p,[0,0,0,h])),l.clamp(t.slice(o),h).concat([0,0,0]))),d=e.encrypt(f(d,f(p,u(p)))),s.length&&(d=f(d,a?s:n.mode.ocb2.pmac(e,s))),l.equal(l.clamp(d,i),l.bitSlice(t,y))||r(new n.exception.corrupt("ocb: tag doesn't match")),g.concat(l.clamp(c,h))},pmac:function(e,t){var r,o=n.mode.ocb2.G,s=n.bitArray,i=s.k,a=[0,0,0,0],c=i(c=e.encrypt([0,0,0,0]),o(o(c)));for(r=0;r+4<t.length;r+=4)c=o(c),a=i(a,e.encrypt(i(c,t.slice(r,r+4))));return r=t.slice(r),s.bitLength(r)<128&&(c=i(c,o(c)),r=s.concat(r,[-2147483648,0,0,0])),a=i(a,r),e.encrypt(i(o(i(c,o(c))),a))},G:function(e){return[e[0]<<1^e[1]>>>31,e[1]<<1^e[2]>>>31,e[2]<<1^e[3]>>>31,e[3]<<1^135*(e[0]>>>31)]}},n.mode.gcm={name:"gcm",encrypt:function(e,t,r,o,s){var i=t.slice(0);return t=n.bitArray,o=o||[],e=n.mode.gcm.n(!0,e,i,o,r,s||128),t.concat(e.data,e.tag)},decrypt:function(e,t,o,i,a){var c=t.slice(0),h=n.bitArray,u=h.bitLength(c);return a=a||128,i=i||[],a<=u?(t=h.bitSlice(c,u-a),c=h.bitSlice(c,0,u-a)):(t=c,c=[]),e=n.mode.gcm.n(s,e,c,i,o,a),h.equal(e.tag,t)||r(new n.exception.corrupt("gcm: tag doesn't match")),e.data},U:function(e,t){var r,o,s,i,a,c=n.bitArray.k;for(s=[0,0,0,0],i=t.slice(0),r=0;r<128;r++){for((o=0!=(e[Math.floor(r/32)]&1<<31-r%32))&&(s=c(s,i)),a=0!=(1&i[3]),o=3;o>0;o--)i[o]=i[o]>>>1|(1&i[o-1])<<31;i[0]>>>=1,a&&(i[0]^=-520093696)}return s},f:function(e,t,r){var o,s=r.length;for(t=t.slice(0),o=0;o<s;o+=4)t[0]^=4294967295&r[o],t[1]^=4294967295&r[o+1],t[2]^=4294967295&r[o+2],t[3]^=4294967295&r[o+3],t=n.mode.gcm.U(t,e);return t},n:function(e,t,r,o,s,i){var a,c,h,u,l,f,d,p,y=n.bitArray;for(f=r.length,d=y.bitLength(r),p=y.bitLength(o),c=y.bitLength(s),a=t.encrypt([0,0,0,0]),96===c?(s=s.slice(0),s=y.concat(s,[1])):(s=n.mode.gcm.f(a,[0,0,0,0],s),s=n.mode.gcm.f(a,s,[0,0,Math.floor(c/4294967296),4294967295&c])),c=n.mode.gcm.f(a,[0,0,0,0],o),l=s.slice(0),o=c.slice(0),e||(o=n.mode.gcm.f(a,c,r)),u=0;u<f;u+=4)l[3]++,h=t.encrypt(l),r[u]^=h[0],r[u+1]^=h[1],r[u+2]^=h[2],r[u+3]^=h[3];return r=y.clamp(r,d),e&&(o=n.mode.gcm.f(a,c,r)),e=[Math.floor(p/4294967296),4294967295&p,Math.floor(d/4294967296),4294967295&d],o=n.mode.gcm.f(a,o,e),h=t.encrypt(s),o[0]^=h[0],o[1]^=h[1],o[2]^=h[2],o[3]^=h[3],{tag:y.bitSlice(o,0,i),data:r}}},n.misc.hmac=function(e,t){this.L=t=t||n.hash.sha256;var r,o=[[],[]],s=t.prototype.blockSize/32;for(this.o=[new t,new t],e.length>s&&(e=t.hash(e)),r=0;r<s;r++)o[0][r]=909522486^e[r],o[1][r]=1549556828^e[r];this.o[0].update(o[0]),this.o[1].update(o[1])},n.misc.hmac.prototype.encrypt=n.misc.hmac.prototype.mac=function(e){return e=new this.L(this.o[0]).update(e).finalize(),new this.L(this.o[1]).update(e).finalize()},n.misc.pbkdf2=function(e,t,o,s,i){o=o||1e3,(s<0||o<0)&&r(n.exception.invalid("invalid params to pbkdf2")),"string"==typeof e&&(e=n.codec.utf8String.toBits(e)),e=new(i=i||n.misc.hmac)(e);var a,c,h,u,l=[],f=n.bitArray;for(u=1;32*l.length<(s||1);u++){for(i=a=e.encrypt(f.concat(t,[u])),c=1;c<o;c++)for(a=e.encrypt(a),h=0;h<a.length;h++)i[h]^=a[h];l=l.concat(i)}return s&&(l=f.clamp(l,s)),l},n.prng=function(e){this.b=[new n.hash.sha256],this.h=[0],this.F=0,this.t={},this.C=0,this.J={},this.N=this.c=this.i=this.T=0,this.a=[0,0,0,0,0,0,0,0],this.e=[0,0,0,0],this.A=o,this.B=e,this.p=s,this.z={progress:{},seeded:{}},this.l=this.S=0,this.u=1,this.w=2,this.Q=65536,this.H=[0,48,64,96,128,192,256,384,512,768,1024],this.R=3e4,this.P=80},n.prng.prototype={randomWords:function(e,t){var o,s,i=[];if((o=this.isReady(t))===this.l&&r(new n.exception.notReady("generator isn't seeded")),o&this.w){o=!(o&this.u),s=[];var a,c=0;for(this.N=s[0]=(new Date).valueOf()+this.R,a=0;a<16;a++)s.push(4294967296*Math.random()|0);for(a=0;a<this.b.length&&(s=s.concat(this.b[a].finalize()),c+=this.h[a],this.h[a]=0,o||!(this.F&1<<a));a++);for(this.F>=1<<this.b.length&&(this.b.push(new n.hash.sha256),this.h.push(0)),this.c-=c,c>this.i&&(this.i=c),this.F++,this.a=n.hash.sha256.hash(this.a.concat(s)),this.A=new n.cipher.aes(this.a),o=0;o<4&&(this.e[o]=this.e[o]+1|0,!this.e[o]);o++);}for(o=0;o<e;o+=4)(o+1)%this.Q==0&&h(this),s=u(this),i.push(s[0],s[1],s[2],s[3]);return h(this),i.slice(0,e)},setDefaultParanoia:function(e){this.B=e},addEntropy:function(e,t,s){s=s||"user";var i,a,h=(new Date).valueOf(),u=this.t[s],l=this.isReady(),f=0;switch((i=this.J[s])===o&&(i=this.J[s]=this.T++),u===o&&(u=this.t[s]=0),this.t[s]=(this.t[s]+1)%this.b.length,typeof e){case"number":t===o&&(t=1),this.b[u].update([i,this.C++,1,t,h,1,0|e]);break;case"object":if("[object Uint32Array]"===(s=Object.prototype.toString.call(e))){for(a=[],s=0;s<e.length;s++)a.push(e[s]);e=a}else for("[object Array]"!==s&&(f=1),s=0;s<e.length&&!f;s++)"number"!=typeof e[s]&&(f=1);if(!f){if(t===o)for(s=t=0;s<e.length;s++)for(a=e[s];a>0;)t++,a>>>=1;this.b[u].update([i,this.C++,2,t,h,e.length].concat(e))}break;case"string":t===o&&(t=e.length),this.b[u].update([i,this.C++,3,t,h,e.length]),this.b[u].update(e);break;default:f=1}f&&r(new n.exception.bug("random: addEntropy only supports number, array of numbers or string")),this.h[u]+=t,this.c+=t,l===this.l&&(this.isReady()!==this.l&&c("seeded",Math.max(this.i,this.c)),c("progress",this.getProgress()))},isReady:function(e){return e=this.H[e!==o?e:this.B],this.i&&this.i>=e?this.h[0]>this.P&&(new Date).valueOf()>this.N?this.w|this.u:this.u:this.c>=e?this.w|this.l:this.l},getProgress:function(e){return e=this.H[e||this.B],this.i>=e?1:this.c>e?1:this.c/e},startCollectors:function(){this.p||(window.addEventListener?(window.addEventListener("load",this.r,s),window.addEventListener("mousemove",this.s,s)):document.attachEvent?(document.attachEvent("onload",this.r),document.attachEvent("onmousemove",this.s)):r(new n.exception.bug("can't attach event")),this.p=!0)},stopCollectors:function(){this.p&&(window.removeEventListener?(window.removeEventListener("load",this.r,s),window.removeEventListener("mousemove",this.s,s)):window.detachEvent&&(window.detachEvent("onload",this.r),window.detachEvent("onmousemove",this.s)),this.p=s)},addEventListener:function(e,t){this.z[e][this.S++]=t},removeEventListener:function(e,t){var n,r,o=this.z[e],s=[];for(r in o)o.hasOwnProperty(r)&&o[r]===t&&s.push(r);for(n=0;n<s.length;n++)delete o[r=s[n]]},s:function(e){n.random.addEntropy([e.x||e.clientX||e.offsetX||0,e.y||e.clientY||e.offsetY||0],2,"mouse")},r:function(){n.random.addEntropy((new Date).valueOf(),2,"loadtime")}},n.random=new n.prng(6);try{var l=new Uint32Array(32);crypto.getRandomValues(l),n.random.addEntropy(l,1024,"crypto['getRandomValues']")}catch(e){}n.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(e,t,o,s){o=o||{},s=s||{};var i,a=n.json,c=a.d({iv:n.random.randomWords(4,0)},a.defaults);return a.d(c,o),o=c.adata,"string"==typeof c.salt&&(c.salt=n.codec.base64.toBits(c.salt)),"string"==typeof c.iv&&(c.iv=n.codec.base64.toBits(c.iv)),(!n.mode[c.mode]||!n.cipher[c.cipher]||"string"==typeof e&&c.iter<=100||64!==c.ts&&96!==c.ts&&128!==c.ts||128!==c.ks&&192!==c.ks&&256!==c.ks||c.iv.length<2||c.iv.length>4)&&r(new n.exception.invalid("json encrypt: invalid parameters")),"string"==typeof e&&(e=(i=n.misc.cachedPbkdf2(e,c)).key.slice(0,c.ks/32),c.salt=i.salt),"string"==typeof t&&(t=n.codec.utf8String.toBits(t)),"string"==typeof o&&(o=n.codec.utf8String.toBits(o)),i=new n.cipher[c.cipher](e),a.d(s,c),s.key=e,c.ct=n.mode[c.mode].encrypt(i,t,c.iv,o,c.ts),a.encode(c)},decrypt:function(e,t,o,s){o=o||{},s=s||{};var i,a=n.json;return o=(t=a.d(a.d(a.d({},a.defaults),a.decode(t)),o,!0)).adata,"string"==typeof t.salt&&(t.salt=n.codec.base64.toBits(t.salt)),"string"==typeof t.iv&&(t.iv=n.codec.base64.toBits(t.iv)),(!n.mode[t.mode]||!n.cipher[t.cipher]||"string"==typeof e&&t.iter<=100||64!==t.ts&&96!==t.ts&&128!==t.ts||128!==t.ks&&192!==t.ks&&256!==t.ks||!t.iv||t.iv.length<2||t.iv.length>4)&&r(new n.exception.invalid("json decrypt: invalid parameters")),"string"==typeof e&&(e=(i=n.misc.cachedPbkdf2(e,t)).key.slice(0,t.ks/32),t.salt=i.salt),"string"==typeof o&&(o=n.codec.utf8String.toBits(o)),i=new n.cipher[t.cipher](e),o=n.mode[t.mode].decrypt(i,t.ct,t.iv,o,t.ts),a.d(s,t),s.key=e,n.codec.utf8String.fromBits(o)},encode:function(e){var t,o="{",s="";for(t in e)if(e.hasOwnProperty(t))switch(t.match(/^[a-z0-9]+$/i)||r(new n.exception.invalid("json encode: invalid property name")),o+=s+'"'+t+'":',s=",",typeof e[t]){case"number":case"boolean":o+=e[t];break;case"string":o+='"'+escape(e[t])+'"';break;case"object":o+='"'+n.codec.base64.fromBits(e[t],0)+'"';break;default:r(new n.exception.bug("json encode: unsupported type"))}return o+"}"},decode:function(e){(e=e.replace(/\s/g,"")).match(/^\{.*\}$/)||r(new n.exception.invalid("json decode: this isn't json!")),e=e.replace(/^\{|\}$/g,"").split(/,/);var t,o,s={};for(t=0;t<e.length;t++)(o=e[t].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i))||r(new n.exception.invalid("json decode: this isn't json!")),s[o[2]]=o[3]?parseInt(o[3],10):o[2].match(/^(ct|salt|iv)$/)?n.codec.base64.toBits(o[4]):unescape(o[4]);return s},d:function(e,t,s){if(e===o&&(e={}),t===o)return e;for(var i in t)t.hasOwnProperty(i)&&(s&&e[i]!==o&&e[i]!==t[i]&&r(new n.exception.invalid("required parameter overridden")),e[i]=t[i]);return e},X:function(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&e[n]!==t[n]&&(r[n]=e[n]);return r},W:function(e,t){var n,r={};for(n=0;n<t.length;n++)e[t[n]]!==o&&(r[t[n]]=e[t[n]]);return r}},n.encrypt=n.json.encrypt,n.decrypt=n.json.decrypt,n.misc.V={},n.misc.cachedPbkdf2=function(e,t){var r,s=n.misc.V;return r=(t=t||{}).iter||1e3,(r=(s=s[e]=s[e]||{})[r]=s[r]||{firstSalt:t.salt&&t.salt.length?t.salt.slice(0):n.random.randomWords(2,0)})[s=t.salt===o?r.firstSalt:t.salt]=r[s]||n.misc.pbkdf2(e,s,t.iter),{key:r[s].slice(0),salt:s.slice(0)}}},function(e,t){e.exports={hash:function(e){var t,n,r=0;if(0===e)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return("00000000"+(r&=4294967295).toString(16).toUpperCase()).slice(-8).replace("-","0")}}},function(t,n,r){DEBUG=!1,LZString=r(3);var o=r(8);UrlBase64=r(0);var s=r(1),i=r(11),a=r(2),c=(r(5),r(12).hexToBase32),h=r(13),u=r(6);"undefined"==typeof window&&(window={}),void 0===window.crypto&&(window.crypto=r(14)),void 0===window.crypto.getRandomValues&&(window.crypto.getRandomValues=function(e){const t=window.crypto.randomBytes(e.length);for(var n=0;n<t.length;n++)e[n]=t[n]}),void 0===window.crypto.randomBytes&&(window.crypto.randomBytes=function(e,t){for(var n=[],r=0;r<n.length;r++)n.push(0);if(window.crypto.getRandomValues(n),"function"!=typeof t)return n;t(null,n)}),"undefined"==typeof crypto&&(crypto=window.crypto),void 0===crypto.getRandomValues&&(crypto.getRandomValues=window.crypto.getRandomValues),"undefined"==typeof self&&(self={}),void 0===self.crypto&&(self.crypto=window.crypto),"undefined"==typeof FormData&&(FormData={});t.exports={Interface:function(t){var n,r=t,l={},f={},d={},p={},y=function(e,t){DEBUG&&console.error(e),"function"==typeof t&&t(e)};this.init=function(e,t,n){this.logout(null,()=>{"undefined"==typeof nacl?nacl_factory.instantiate(function(e){nacl=e,window.nacl=nacl,"function"==typeof t&&t()}):"function"==typeof t&&t()},n)},this.logout=function(e,t,r){l={},n=void 0,"function"==typeof t&&t()},this.session=function(e,t,r){a.validateUserIDLength(e.username)?a.validatePasswordLength(e.password)?this.logout({},()=>{n=a.generateKeys(e.password,e.username,0),"function"==typeof t&&t(e.username)}):"function"==typeof r&&r("Invalid password: [not shown for privacy reasons]"):"function"==typeof r&&r("Invalid username: "+JSON.stringify(e.username))},this.asset=function(e,t,n){var r={};for(var o in l){var s=l[o];for(var i in r[o]={},s)"seed"!==i&&"keys"!==i&&"data"!==i&&(r[o][i]=s[i]);r[o].address=s.data.address,r[o].publickey=s.data.publickey,r[o].privatekey=s.data.privatekey}t(r)},this.initAsset=function(e,t,r){var o=()=>{var o=e.assetDetails.symbol;l[o]=e.assetDetails,l[o].data={};var s=e.assetDetails.mode.split("."),i=s[0],c=s[1],h=e.assetDetails["keygen-base"];l[o].feesymbol=e.assetDetails["fee-symbol"],l[o].feefactor=e.assetDetails["fee-factor"],l[o].data.seed=a.seedGenerator(n,h);try{l[o].data.mode=c,l[o].data.keys=f[i].keys(l[o].data),l[o].data.keys.mode=c,l[o].data.address=f[i].address(l[o].data.keys),l[o].data.publickey=f[i].publickey(l[o].data.keys),l[o].data.privatekey=f[i].privatekey(l[o].data.keys)}catch(e){return void y(e,r)}t&&t(e.assetDetails.symbol)};if(f.hasOwnProperty(e.assetDetails.mode.split(".")[0]))o();else{var s=e.assetDetails.mode.split(".")[0];this.import({id:s,blob:e.clientModuleCodeBlob},o,r)}},this.import=function(e,t,n){var r=r=>{try{var o=LZString.decompressFromEncodedURIComponent(r),s=a.activate(o);if(!s)return void y("Failed to activate deterministic code",n);f[e.id]=s,d[e.id]=e.blob}catch(e){return void y(e,n)}t(e.id)};p.lenght>0&&!0===e.check?this.rout({query:"/s/deterministic/hash/"+e.id,host:e.host,channel:e.channel},t=>{void 0===t.hash?r(e.blob):this.rout({query:"/s/deterministic/code/"+e.id,host:e.host,channel:e.channel},r,n)},n):r(e.blob)},this.export=function(e,t,n){e&&e.hasOwnProperty("id")?d.hasOwnProperty(e.id)?t(d[e.id]):y("No client module "+e.id+" not found.",n):t(d)},this.modules=function(e,t,n){t(Object.keys(f))},this.addAsset=function(e,t,n){l.hasOwnProperty(e.symbol)?"function"==typeof t&&t(e.symbol):this.rout({host:e.host,query:"/a/"+e.symbol+"/details",channel:e.channel},r=>{var o=r.mode.split(".")[0];f.hasOwnProperty(o)?this.initAsset({assetDetails:r},t,n):e.hasOwnProperty("clientModuleCodeBlob")?this.initAsset({assetDetails:r,clientModuleCodeBlob:e.clientModuleCodeBlob},t,n):this.rout({host:e.host,query:"/s/deterministic/code/"+o,channel:e.channel},e=>{this.initAsset({assetDetails:r,clientModuleCodeBlob:e},t,n)},n)},n)},this.removeAsset=function(e,t,n){l.hasOwnProperty(e.symbol)?(delete l[e.symbol],t(e.symbol)):"function"==typeof t&&t(e.symbol)},this.client=function(e,t,n){var r,o,s=()=>{if(f[r].hasOwnProperty(e.func)&&"function"==typeof f[r][e.func]){var s;try{s=f[r][e.func](e.data,t,n)}catch(e){return void y(e,n)}void 0!==s&&t(s)}else y("Client module function "+e.func+" for "+o+" not defined or not a function.",n)};e.hasOwnProperty("id")?(r=e.id,o=r,s()):e.hasOwnProperty("symbol")?l.hasOwnProperty(e.symbol)&&"function"==typeof t?(r=l[e.symbol].mode.split(".")[0],o=r+"("+e.symbol+")",s()):this.addAsset({symbol:e.symbol,channel:e.channel,host:e.host},()=>{r=l[e.symbol].mode.split(".")[0],o=r+"("+e.symbol+")",s()},n):y("Either data.id or data.symbol needs to be defined.",n)},this.getKeys=function(e,t,n){this.addAsset(e,()=>{t(l[e.symbol].data.keys)},n)},this.getAddress=function(e,t,n){this.addAsset(e,()=>{t(l[e.symbol].data.address)},n)},this.getPublicKey=function(e,t,n){this.addAsset(e,()=>{t(l[e.symbol].data.publickey)},n)},this.getPrivateKey=function(e,t,n){this.addAsset(e,()=>{t(l[e.symbol].data.privatekey)},n)},this.signTransaction=function(e,t,n){if(l.hasOwnProperty(e.symbol)){var r=l[e.symbol];if(f.hasOwnProperty(r.mode.split(".")[0])){var o,i,a=function(e,t){var n=Number(t);return new s(String(e)).times("1"+(n>1?"0".repeat(n):"")).toString()},c=function(e,t){var n,r=[];if("[object Array]"===Object.prototype.toString.call(e.unspents)){for(var o=0;o<e.unspents.length;o++)r[o]=e.unspents[o],r[o].amount=this.toIntLocal(r[o].amount,t);n=this.toIntLocal(e.change,t)}else n=this.toIntLocal(0,t);return{unspents:r,change:n}}.bind({toIntLocal:a});try{o=a(e.fee||r.fee,r.feefactor)}catch(e){return void y(e,n)}try{i=a(e.amount,r.factor)}catch(e){return void y(e,n)}var h=e.unspent;e.unspent&&e.unspent.unspents&&e.unspent.change&&(h=c(e.unspent,r.feefactor));var u,d={mode:r.data.keys.mode,symbol:r.symbol,source:r.data.address,target:e.target,amount:i,fee:o,factor:r.factor,contract:r.contract,keys:r.data.keys,seed:r.data.seed,unspent:h};try{u=f[r.mode.split(".")[0]].transaction(d,t)}catch(e){return void y(e,n)}void 0!==u&&"function"==typeof t&&t(u)}else y("Asset "+e.symbol+" not initialized.",n)}else y("Asset "+e.symbol+" not added.",n)},this.rawTransaction=function(e,t,n,r){this.sequential({steps:[{symbol:e.symbol,channel:e.channel,host:e.host},"addAsset",{address:{data:{symbol:e.symbol},step:"getAddress"},publicKey:{data:{symbol:e.symbol},step:"getPublicKey"}},"parallel",t=>({query:"/a/"+e.symbol+"/unspent/"+t.address+"/"+function(e){try{return new s(e.amount).plus(e.hasOwnProperty("fee")?e.fee:l[e.symbol].fee).toString()}catch(e){return}}(e)+"/"+e.target+(t.publicKey?"/"+t.publicKey:""),channel:e.channel,host:e.host}),"rout",t=>(e.forceEthNonce&&(t.nonce=e.forceEthNonce),{symbol:e.symbol,target:e.target,amount:e.amount,fee:e.fee,unspent:t}),"signTransaction",e=>e]},t,n,r)},this.transaction=function(e,t,n,r){this.sequential({steps:[e,"rawTransaction",t=>({query:"/a/"+e.symbol+"/push/"+t,channel:e.channel,host:e.host}),"rout"]},t,n,r)},this.refreshAsset=function(e,t,n,r){var o={};for(var s in l){var i=l[s];o[s]={data:[{query:"/a/"+s+"/balance/"+i.data.address},"rout",function(e){return t=>(this.assets[e].balance=t,t)}.bind({assets:l})(s)],step:"sequential"}}this.parallel(o,e=>{this.asset(void 0,t,n,r)},n,r)},this.addHost=function(e,t,n){if("object"==typeof e&&null!==e)if(/^([-a-z\d%@_.~+&:]*\/)?$/i.test(e.host)||/^(http|https):\/\/[a-z\d]([a-z\d\-]{0,61}[a-z\d])?(\.[a-z\d]([a-z\d\-]{0,61}[a-z\d])?)*(:\d*)?\/([-a-z\d%@_.~+&:]*\/)?$/i.test(e.host)||/^(http|https):\/\/((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(:\d*)?\/([-a-z\d%@_.~+&:]*\/)?$/i.test(e.host)){var r=new o.hybrixdNode(e.host);p[e.host]=r,t(e.host)}else y('Host not valid hostname, IPv4, or relative path : "'+e.host+'"  expected: "[protocol://hostnameOrIPv4Address[:portnumber]][/path]/"');else y("Expected data to be an object.",n)},this.login=function(e,t,o){n?e.hasOwnProperty("host")?p.hasOwnProperty(e.host)?p[e.host].initialized()?t(e.host):p[e.host].init({userKeys:n,connector:r},t,o):this.addHost({host:e.host},()=>{p[e.host].init({userKeys:n,connector:r},t,o)},o):y("No host provided.",o):y("No session available.",o)},this.rout=function(e,t,o){var s="y"===e.channel||"z"===e.channel;if(s&&void 0===n)y("No session available.",o);else{var i;if(void 0===e.host){if(0===Object.keys(p).length)return void y("No hosts added.",o);var a=Object.keys(p);i=a[Math.floor(Math.random()*a.length)]}else i=e.host;if(p.hasOwnProperty(i)){var c=()=>{switch(e.channel){case"y":p[i].yCall({query:e.query,channel:e.channel,userKeys:n,connector:r,retries:e.retries},t,o);break;case"z":p[i].zCall({query:e.query,channel:e.channel,userKeys:n,connector:r,retries:e.retries},t,o);break;default:p[i].call({query:e.query,connector:r,retries:e.retries},t,o)}};!s||p[i].initialized()?c():this.login({host:i},c,o)}else y("Host not added.",o)}};var g=function(e){return nacl.to_hex(i(n.boxPk))+"-"+String(e)};this.save=function(e,t,n,r){var o;o=e.work?o=>this.work({hash:o,host:e.host,channel:e.channel,key:e.key,submit:!0},t,n,r):t,"object"!=typeof e?y("Expected an object.",n):e.hasOwnProperty("key")&&"string"==typeof e.key?e.hasOwnProperty("value")?!1===e.encrypted?this.rout({host:e.host,query:"/e/storage/set/"+encodeURIComponent(e.key)+"/"+encodeURIComponent(JSON.stringify(e.value).replace(/"/g,'\\"')),channel:e.channel},o,n,r):!0===e.legacy?this.sequential([{data:e.value},"encrypt",t=>({host:e.host,query:"/e/storage/set/"+encodeURIComponent(g(e.key))+"/"+t,channel:e.channel,meta:e.meta}),"rout"],o,n,r):this.sequential([{data:e.value},"encrypt",t=>({host:e.host,query:"/e/storage/set/"+encodeURIComponent(e.key)+"/"+t,channel:e.channel,meta:e.meta}),"rout"],o,n,r):y("Expected 'value' property.",n):y("Expected 'key' property of string type.",n)},this.work=function(e,t,n,r){var o;o=e.submit&&e.key?o=>{this.rout({query:"/e/storage/work/"+encodeURIComponent(e.key)+"/"+o,host:e.host,channel:e.channel},t,n,r)}:t,h.solve(e.hash,o,n,e.difficulty)},this.load=function(e,t,n,r){"object"!=typeof e?y("Expected an object.",n):e.hasOwnProperty("key")&&"string"==typeof e.key?!1===e.encrypted?this.rout({host:e.host,query:"/e/storage/get/"+encodeURIComponent(e.key),channel:e.channel,meta:e.meta},e=>{t(decodeURIComponent(e))},n,r):!0===e.legacy?this.sequential([{host:e.host,query:"/e/storage/get/"+encodeURIComponent(g(e.key)),channel:e.channel},"rout",e=>({data:e}),"decrypt"],t,n,r):this.sequential([{host:e.host,query:"/e/storage/get/"+encodeURIComponent(e.key),channel:e.channel},"rout",e=>({data:e}),"decrypt"],t,n,r):y("Expected 'key' property of string type.",n)},this.seek=function(e,t,n,r){"object"!=typeof e?y("Expected an object.",n):e.hasOwnProperty("key")&&"string"==typeof e.key?!0===e.legacy?this.rout({host:e.host,query:"/e/storage/seek/"+encodeURIComponent(g(e.key)),channel:e.channel,meta:e.meta},e=>{t(decodeURIComponent(e))},n,r):this.rout({host:e.host,query:"/e/storage/seek/"+encodeURIComponent(e.key),channel:e.channel,meta:e.meta},e=>{t(decodeURIComponent(e))},n,r):y("Expected 'key' property of string type.",n)},this.meta=function(e,t,n,r){"object"!=typeof e?y("Expected an object.",n):e.hasOwnProperty("key")&&"string"==typeof e.key?this.rout({host:e.host,query:"/e/storage/meta/"+encodeURIComponent(e.key),channel:e.channel,meta:e.meta},n,r):y("Expected 'key' property of string type.",n)},this.hash=function(e,t,n){t(u.hash(JSON.stringify(e.data)+JSON.stringify(e.salt)))},this.encrypt=function(e,t,r){if(n){var o;try{var s=nacl.from_hex("F4E5D5C0B3A4FC83F4E5D5C0B3A4AC83F4E5D000B9A4FC83"),i=nacl.encode_utf8(JSON.stringify(e.data)),a=nacl.crypto_box(i,s,n.boxPk,n.boxSk);o=UrlBase64.safeCompress(nacl.to_hex(a))}catch(e){return void y(e,r)}t(o)}else y("No session available.",r)},this.decrypt=function(t,r,o){if(n)if("string"!=typeof t.data)y("Expected 'data' to be a string.",o);else{var s;try{var i=nacl.from_hex("F4E5D5C0B3A4FC83F4E5D5C0B3A4AC83F4E5D000B9A4FC83"),a=nacl.from_hex(UrlBase64.safeDecompress(t.data)),c=nacl.crypto_box_open(a,i,n.boxPk,n.boxSk);s=JSON.parse(nacl.decode_utf8(c))}catch(t){y(e,o)}r(s)}else y("No session available.",o)},this.createAccount=function(e,t,n){void 0===e&&(e={});var r=function(r,o){if(e.entropy.length<=491)y("Entropy is of insufficient length. Required > 491",n);else{var s=c(r.substr(o+20,60)),i=c(r.substr(o,12)+u.hash(r.substr(o,12).toUpperCase()).substr(0,4)+u.hash(r.substr(o,12).toLowerCase()+s.toUpperCase()).substr(4,4));t({userid:i,passwd:s})}};if("string"==typeof e.entropy)r(e.entropy,e.offset||0);else{var o;o="function"==typeof e.pool?e.pool:function(e){return crypto.randomBytes(1600).toString("hex")},e.entropy="";var s=1e3+Math.floor(256*Math.random()),i=new Array(s).fill(0).map(()=>Math.floor(Math.random()*Math.pow(8,16))),a=t=>{if(t===s){var n=Math.floor(411*Math.random());r(e.entropy,n)}else e.entropy=o(i[t]),a(++t)};a(0)}},this.id=((e,t,n)=>{t(e)}),this.escapeString=((e,t,n)=>{t(function(e){return(e+"").replace(/[*+?^${}()|[\[\]\\\"']/g,"\\$&")}(e))}),this.call=((e,t,n,r)=>{e.func(e.data,t,n,r)}),this.sequential=((e,t,n,r,o,s)=>{if("Array"===e.constructor.name&&(e={steps:e}),void 0===o&&(o=0,s=e.steps.length),0===e.steps.length)"function"==typeof r&&r(1),t(e.data);else{"function"==typeof r&&r(o/s);var i,a=e.steps[0];if("string"==typeof a)this.hasOwnProperty(a)?(DEBUG&&console.log("this."+a+"("+JSON.stringify(e.data)+")"),"function"==typeof r&&(i=(e=>{r((o+e)/s)})),this[a](e.data,i=>{this.sequential({data:i,steps:e.steps.slice(1)},t,n,r,o+1,s)},n,i)):y("Method '"+a+"' does not exist for IoC.Interface class.",n);else if("object"==typeof a)DEBUG&&console.log(JSON.stringify(e.data)+" => "+JSON.stringify(a)),this.sequential({data:a,steps:e.steps.slice(1)},t,n,r,o+1,s);else if("function"==typeof a){var c=a(e.data);DEBUG&&console.log(JSON.stringify(e.data)+" => "+JSON.stringify(c)),this.sequential({data:c,steps:e.steps.slice(1)},t,n,r,o+1,s)}}}),this.parallel=((e,t,n,r)=>{var o,s=e,i=Object.keys(s).length,a={},c={};for(var h in s)c[h]=0;"function"==typeof r&&(o=(()=>{var e=0;for(var t in s)e+=c[t];r(e/i)}));var u={};if(0!==i){var l,f=e=>n=>{a.hasOwnProperty(e)||(c[e]=1,a[e]=!0,u[e]=n,"function"==typeof r&&o(),Object.keys(a).length===i&&t(u))},d=e=>n=>{a.hasOwnProperty(e)||(a[e]=!1,c[e]=1,u[e]=void 0,"function"==typeof r&&o(),Object.keys(a).length===i&&t(u))};"function"==typeof r&&(l=(e=>t=>{c[e]=t,o()}));var p=(e,t,r)=>{"string"==typeof t?this.hasOwnProperty(t)?this[t](r,f(e),d(e),l):y("Method '"+t+"' does not exist for IoC.Interface class.",n):"function"==typeof t&&t(r,f(e),d(e),l)};for(var h in s){var g=s[h];"object"==typeof g?g.hasOwnProperty("step")?g.hasOwnProperty("data")?p(h,g.step,g.data):p(h,g.step,e):y("No step defined.",n):p(h,g,e)}}else t({})})}}},function(e,t,n){var r=n(4),o=n(10),s=(n(0),n(2));e.exports={hybrixdNode:function(e){var t,n,i,a,c,h,u=e;this.xAuthStep0Request=function(){return t=0,"/x/"+i.session_hexsign+"/0"},this.xAuthStep1Request=function(e){t=1;try{a=s.generateSecondarySessionData(e,i.session_hexkey,i.session_signpair.signSk)}catch(e){DEBUG&&console.log("Error: "+JSON.stringify(e))}return"/x/"+i.session_hexsign+"/1/"+a.crypt_hex},this.xAuthFinalize=function(e,t){h=e;var r={userKeys:t,nonce:n};Object.assign(r,h,i,a),c=s.sessionStep1Reply(e,r,()=>{})},this.yCall=function(e,n,o){t++;var s=r.getGeneralSessionData({user_keys:e.userKeys,nonce:c.current_nonce},t,c.sess_hex),i=r.encode_sub({sessionID:s.sessionID,sessionNonce:s.sessionNonce,serverSessionPubKey:s.serverSessionPubKey,clientSessionSecKey:s.clientSessionSecKey,step:t,txtdata:e.query});this.call({query:e.channel+"/"+i,connector:e.connector,meta:!0,retries:e.retries},t=>{var i=r.decode_sub({encdata:t,sessionNonce:s.sessionNonce,serverSessionPubKey:s.serverSessionPubKey,clientSessionSecKey:s.clientSessionSecKey});if("y"===e.channel){var a;try{a=JSON.parse(i)}catch(e){return DEBUG&&console.error(e),void("function"==typeof o&&o(e))}if("object"==typeof a&&"id"===a.id){var c=()=>{this.yCall({query:"/proc/"+a.data,channel:e.channel,userKeys:e.userKeys,connector:e.connector,meta:e.meta},t=>{t.hasOwnProperty("error")&&0!==t.error?(DEBUG&&console.error(t),"function"==typeof o&&o(t.info)):null!==t.stopped?n(e.meta?t:t.data):setTimeout(c,500)},o)};c()}else n(a)}else n(i)},o)},this.zCall=function(e,n,r){"function"!=typeof r&&DEBUG&&console.log("A NO ERROR FUNC!!!!");var s=o.encode({user_keys:e.userKeys,nonce:c.current_nonce},t,e.query);this.yCall({query:s,channel:"z",userKeys:e.userKeys,connector:e.connector,retries:e.retries},e=>{var t,s=o.decode_sub(e);try{t=JSON.parse(s)}catch(e){return DEBUG&&console.error(e),void("function"==typeof r&&r(e))}n(t)},r)},this.call=function(e,t,n){var r,o=r=>{e.retries=void 0===e.retries?3:e.retries-1,e.retries<=0?"function"==typeof n&&n(r):setTimeout(()=>this.call(e,t,n),1e3)},s=!!e.meta;if(e.connector.hasOwnProperty("XMLHttpRequest")&&(r=((t,n,r,o)=>{var s=new e.connector.XMLHttpRequest;s.onreadystatechange=(e=>{4===s.readyState&&(200===s.status?r(s.responseText):(DEBUG&&console.error(s.responseText),"function"==typeof o&&o(s.responseText)))}),s.open("GET",t+n,!0),s.send()})),e.connector.hasOwnProperty("http")&&(r=((t,n,r,o)=>{e.connector.http.get(t+n,e=>{if(e.statusCode<200||e.statusCode>299){var t="Request error: Status Code: "+e.statusCode;return DEBUG&&console.error(t),e.resume(),void("function"==typeof o&&o(t))}e.setEncoding("utf8");var n=[];e.on("data",e=>{n.push(e)}),e.on("timeout",()=>{e.resume(),DEBUG&&console.error("Request timed out."),"function"==typeof o&&o("Request timed out.")}),e.on("error",t=>{e.resume(),DEBUG&&console.error(`Got error: ${t.message}`),"function"==typeof o&&o(`Got error: ${t.message}`)}),e.on("end",()=>{e.resume(),r(n.join(""))})}).on("error",e=>{DEBUG&&console.error(`Got error: ${e.message}`),"function"==typeof o&&o(`Got error: ${e.message}`)}).setTimeout(1e4,()=>{DEBUG&&console.error("Request timed out."),"function"==typeof o&&o("Request timed out")})})),e.connector.hasOwnProperty("https")&&(r=((t,n,r,o)=>{e.connector.https.get(t+n,e=>{if(e.statusCode<200||e.statusCode>299){var t="Request error: Status Code: "+e.statusCode;return DEBUG&&console.error(t),e.resume(),void("function"==typeof o&&o(t))}e.setEncoding("utf8");var n=[];e.on("data",e=>{n.push(e)}),e.on("timeout",()=>{e.resume(),DEBUG&&console.error("Request timed out."),"function"==typeof o&&o("Request timed out.")}),e.on("error",t=>{e.resume(),DEBUG&&console.error(`Got error: ${t.message}`),"function"==typeof o&&o(`Got error: ${t.message}`)}),e.on("end",()=>{e.resume(),r(n.join(""))})}).on("error",e=>{DEBUG&&console.error(`Got error: ${e.message}`),"function"==typeof o&&o(`Got error: ${e.message}`)}).setTimeout(1e4,()=>{DEBUG&&console.error("Request timed out."),"function"==typeof o&&o("Request timed out")})})),e.connector.hasOwnProperty("custom")&&(r=e.connector.custom),void 0===r)return DEBUG&&console.error("Error: No http request connector method available."),void("function"==typeof n&&n("Error: No http request connector method available."));e.query,r(u,e.query,e=>{var i;try{i=JSON.parse(e)}catch(e){return DEBUG&&console.error(e),void o(e)}if(i.hasOwnProperty("id")&&"id"===i.id){var a=()=>{r(u,"/proc/"+i.data,e=>{var n;try{n=JSON.parse(e)}catch(e){return DEBUG&&console.error(e),void o(e)}n.hasOwnProperty("error")&&0!==n.error?(DEBUG&&console.error(n),o(n.info)):null!==n.stopped?t(s?n:n.data):setTimeout(a,500)},o)};a()}else if(t){if(i.hasOwnProperty("error")&&0!==i.error)return DEBUG&&console.error(i),void("function"==typeof n&&n(e));t(s?i:i.data)}},o)},this.initialized=function(){return t>1},this.init=function(e,t,r){n=nacl.crypto_box_random_nonce(),i=s.generateInitialSessionData(n),this.call({query:this.xAuthStep0Request(),connector:e.connector,meta:!0},n=>{this.call({query:this.xAuthStep1Request(n.nonce1),connector:e.connector,meta:!0},n=>{this.xAuthFinalize(n,e.userKeys),t&&t(u)},r)},r)}}}},function(e,t,n){var r,o=n(1);o.set({precision:64});var s=function(){function e(e,t,n){for(var r=[],o=Math.max(e.length,t.length),s=0,i=0;i<o||s;){var a=s+(i<e.length?e[i]:0)+(i<t.length?t[i]:0);r.push(a%n),s=Math.floor(a/n),i++}return r}function t(t,n,r){if(t<0)return null;if(0==t)return[];for(var o=[],s=n;1&t&&(o=e(o,s,r)),0!=(t>>=1);)s=e(s,s,r);return o}function n(n,r,o){var s=function(e,t){for(var n=e.split(""),r=[],o=n.length-1;o>=0;o--){var s=parseInt(n[o],t);if(isNaN(s))return null;r.push(s)}return r}(n,r);if(null===s)return null;for(var i=[],a=[1],c=0;c<s.length;c++)s[c]&&(i=e(i,t(s[c],a,o),o)),a=t(r,a,o);var h="";for(c=i.length-1;c>=0;c--)h+=i[c].toString(o);return h}return{toHex:function(e){var t=n(String(e),10,16);return t?"0x"+t:null},toDec:function(e){if(e){"0x"===e.substring(0,2)&&(e=e.substring(2));t=n(e=e.toLowerCase(),16,10)}else var t=0;return new o(t||0)}}}();void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r=n(4),o=n(3),s=function(e,t,n){return o.compressToEncodedURIComponent(n)},i=function(e,t,n){return r.ychan_decode(e,t,n)};e.exports={path:function(e,t,n){return"z/"+r.encode(e,t,s(e,t,n))},obj:function(e,t,n){try{return JSON.parse(i(e,t,n))}catch(e){return!1}},encode:s,decode_sub:function(e){return o.decompressFromEncodedURIComponent(e)},decode:i}},function(e,t,n){var r;!function(o,s){var i={};!function(e){"use strict";function t(e,t,n,o,s){for(var i,a,c,h,u,l,f,d,p,y,g,v,m;s>=64;){for(i=t[0],a=t[1],c=t[2],h=t[3],u=t[4],l=t[5],f=t[6],d=t[7],y=0;y<16;y++)g=o+4*y,e[y]=(255&n[g])<<24|(255&n[g+1])<<16|(255&n[g+2])<<8|255&n[g+3];for(y=16;y<64;y++)v=((p=e[y-2])>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,m=((p=e[y-15])>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,e[y]=(v+e[y-7]|0)+(m+e[y-16]|0);for(y=0;y<64;y++)v=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&f)|0)+(d+(r[y]+e[y]|0)|0)|0,m=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&a^i&c^a&c)|0,d=f,f=l,l=u,u=h+v|0,h=c,c=a,a=i,i=v+m|0;t[0]+=i,t[1]+=a,t[2]+=c,t[3]+=h,t[4]+=u,t[5]+=l,t[6]+=f,t[7]+=d,o+=64,s-=64}return o}function n(e){var t=(new o).update(e),n=t.digest();return t.clean(),n}e.__esModule=!0,e.digestLength=32,e.blockSize=64;var r=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=function(){function n(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return n.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},n.prototype.clean=function(){for(e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(var e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()},n.prototype.update=function(e,n){if(void 0===n&&(n=e.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this.bytesHashed+=n,this.bufferLength>0){for(;this.bufferLength<64&&n>0;)this.buffer[this.bufferLength++]=e[r++],n--;64===this.bufferLength&&(t(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(n>=64&&(r=t(this.temp,this.state,e,r,n),n%=64);n>0;)this.buffer[this.bufferLength++]=e[r++],n--;return this},n.prototype.finish=function(e){if(!this.finished){var n=this.bytesHashed,r=this.bufferLength,o=n/536870912|0,s=n<<3,i=n%64<56?64:128;for(this.buffer[r]=128,a=r+1;a<i-8;a++)this.buffer[a]=0;this.buffer[i-8]=o>>>24&255,this.buffer[i-7]=o>>>16&255,this.buffer[i-6]=o>>>8&255,this.buffer[i-5]=o>>>0&255,this.buffer[i-4]=s>>>24&255,this.buffer[i-3]=s>>>16&255,this.buffer[i-2]=s>>>8&255,this.buffer[i-1]=s>>>0&255,t(this.temp,this.state,this.buffer,0,i),this.finished=!0}for(var a=0;a<8;a++)e[4*a+0]=this.state[a]>>>24&255,e[4*a+1]=this.state[a]>>>16&255,e[4*a+2]=this.state[a]>>>8&255,e[4*a+3]=this.state[a]>>>0&255;return this},n.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},n.prototype._saveState=function(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]},n.prototype._restoreState=function(e,t){for(var n=0;n<this.state.length;n++)this.state[n]=e[n];this.bytesHashed=t,this.finished=!1,this.bufferLength=0},n}();e.Hash=o;var s=function(){function e(e){this.inner=new o,this.outer=new o,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var t=new Uint8Array(this.blockSize);if(e.length>this.blockSize)(new o).update(e).finish(t).clean();else for(n=0;n<e.length;n++)t[n]=e[n];for(n=0;n<t.length;n++)t[n]^=54;for(this.inner.update(t),n=0;n<t.length;n++)t[n]^=106;this.outer.update(t),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(var n=0;n<t.length;n++)t[n]=0}return e.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},e.prototype.clean=function(){for(var e=0;e<this.istate.length;e++)this.ostate[e]=this.istate[e]=0;this.inner.clean(),this.outer.clean()},e.prototype.update=function(e){return this.inner.update(e),this},e.prototype.finish=function(e){return this.outer.finished?this.outer.finish(e):(this.inner.finish(e),this.outer.update(e,this.digestLength).finish(e)),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e}();e.HMAC=s,e.hash=n,e.default=n,e.hmac=function(e,t){var n=new s(e).update(t),r=n.digest();return n.clean(),r},e.pbkdf2=function(e,t,n,r){for(var o=new s(e),i=o.digestLength,a=new Uint8Array(4),c=new Uint8Array(i),h=new Uint8Array(i),u=new Uint8Array(r),l=0;l*i<r;l++){var f=l+1;for(a[0]=f>>>24&255,a[1]=f>>>16&255,a[2]=f>>>8&255,a[3]=f>>>0&255,o.reset(),o.update(t),o.update(a),o.finish(h),p=0;p<i;p++)c[p]=h[p];for(p=2;p<=n;p++){o.reset(),o.update(h).finish(h);for(var d=0;d<i;d++)c[d]^=h[d]}for(var p=0;p<i&&l*i+p<r;p++)u[l*i+p]=c[p]}for(l=0;l<i;l++)c[l]=h[l]=0;for(l=0;l<4;l++)a[l]=0;return o.clean(),u}}(i);var a=i.default;for(var c in i)a[c]=i[c];"object"==typeof e&&"object"==typeof e.exports?e.exports=a:void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},function(e,t){var n;e.exports={hexToBase32:function(e){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","2","3","4","5","6","7"],r=e.toString();r=(r=r.toUpperCase()).replace(/[^A-F0-9]/g,"");for(var o="",s=0;s<r.length;s++){for(var i=parseInt(r[s],16),a=4-(n=i.toString(2)).length,c=0;c<a;c++)n="0"+n;o+=n}for(5==(a=5-o.length%5)&&(a=0),s=0;s<a;s++)o="0"+o;var h="";for(s=0;s<o.length/5;s++){var u=o.substring(0+5*s,5+5*s);h+=t[parseInt(u,2)]}return h},base32ToHex:function(e){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","2","3","4","5","6","7"],n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],r=e.toString();r=(r=r.toUpperCase()).replace(/[^A-Z2-7]/g,"");for(var o="",s=0;s<r.length;s++){for(var i=t.indexOf(r[s]).toString(2),a=5-i.length,c=0;c<a;c++)i="0"+i;o+=i}var h=4-(a=o.length%4);for(4==h&&(h=0),s=0;s<h;s++)o.startsWith("0")&&(o=o.substring(1));var u="";for(s=0;s<o.length/4;s++){var l=o.substring(0+4*s,4+4*s);u+=n[parseInt(l,2)]}return u}}},function(e,t,n){var r=n(6);t.create=function(e){var t=void 0===e||isNaN(e)?5e4:e,n=t+Math.random()*t;n=String(Math.floor(n+Math.floor(5*Math.random())*(t/5)));for(var o="",s=0;s<5;s++)o+=r.hash("w1iV++8Paiz1W/JPPasdRTiHiPaZkF3L5fQBpl/EsMsAAAA="+s+"braNzUosoR/WGHdjuE3vgOzS3vAm0yeHdryKUKfqMzOZrnnxM2j0ZBtosjbG+BpuoONa0SSg0g1a"+String(Math.random()*(1e6*Math.random()))+"H4sIALBvLloCA02OMQ4CMQwEe16xD0B8gIqKhk9YspOzyMUo8d2J35OYAgoX691Z+1YZtjkswRdB");return{hash:o+r.hash(String("rFGlQjLECtkQ7Lt2mCc+NCV4wbqX9VJehLZIsQGVN91vP+SUxmyOAAAA"+n+o+"y37v4RNP7wiH+kEdyYTTp/alYktUHe0gsATc9IuVhmeS4eX2/5zs4XTQ"+n.split("").reverse().join("")+"H4sIAHBsLloCAy2M0Q3CQAxD/5nCA1SMAQMwwVUXLpHSBF3SVmxPKvFn")),proof:r.hash("PowerToThePeople_"+n)}},t.solve=function(e,t,n,o){for(var s=[],i=[],a=250*(void 0===o||isNaN(o)||Number(o)<=0?1e5:2*o),c=e.substr(0,40),h=0;h<250;h++)s[h]=Math.floor(a/251)*h,i[h]=setInterval(function(){var e=r.hash(String("rFGlQjLECtkQ7Lt2mCc+NCV4wbqX9VJehLZIsQGVN91vP+SUxmyOAAAA"+s[this.j]+c+"y37v4RNP7wiH+kEdyYTTp/alYktUHe0gsATc9IuVhmeS4eX2/5zs4XTQ"+String(s[this.j]).split("").reverse().join("")+"H4sIAHBsLloCAy2M0Q3CQAxD/5nCA1SMAQMwwVUXLpHSBF3SVmxPKvFn"));if(c+e===this.hash){for(u=0;u<250;u++)clearInterval(i[u]);"function"==typeof t&&t(r.hash("PowerToThePeople_"+s[this.j]))}else if(s[this.j]<Math.floor(a/(this.j+1)*h))s[this.j]+=1;else{for(var o=0,u=0;u<250;u++)s[u]>=Math.floor(a/(this.j+1)*h)&&(clearInterval(i[u]),o+=1);o>=250*a&&"function"==typeof n&&n()}}.bind({j:h,hash:e}),1)}},function(e,t){e.exports=require("crypto")}]);